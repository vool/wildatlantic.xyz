import{E as m,a5 as A,a6 as g,f as l,i as h,q as v,K as c}from"./20kgCzlg.js";function _(t={}){var p;const e=l(""),o=l(t.politeness||"polite"),s=h();function u(n="",f="polite"){e.value=n,o.value=f}function i(n){return u(n,"polite")}function a(n){return u(n,"assertive")}function r(){var n;u((n=document==null?void 0:document.title)==null?void 0:n.trim(),o.value)}function d(){var n;(n=s==null?void 0:s.hooks)==null||n.removeHook("dom:rendered",r)}return r(),(p=s==null?void 0:s.hooks)==null||p.hook("dom:rendered",()=>{r()}),{_cleanup:d,message:e,politeness:o,set:u,polite:i,assertive:a}}function x(t={}){const e=m(),o=e._routeAnnouncer=e._routeAnnouncer||_(t);return t.politeness!==o.politeness.value&&(o.politeness.value=t.politeness||"polite"),A()&&(e._routeAnnouncerDeps=e._routeAnnouncerDeps||0,e._routeAnnouncerDeps++,g(()=>{e._routeAnnouncerDeps--,e._routeAnnouncerDeps===0&&(o._cleanup(),delete e._routeAnnouncer)})),o}const D=v({name:"NuxtRouteAnnouncer",props:{atomic:{type:Boolean,default:!1},politeness:{type:String,default:"polite"}},setup(t,{slots:e,expose:o}){const{set:s,polite:u,assertive:i,message:a,politeness:r}=x({politeness:t.politeness});return o({set:s,polite:u,assertive:i,message:a,politeness:r}),()=>c("span",{class:"nuxt-route-announcer",style:{position:"absolute"}},c("span",{role:"alert","aria-live":r.value,"aria-atomic":t.atomic,style:{border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",width:"1px",overflow:"hidden",position:"absolute","white-space":"nowrap","word-wrap":"normal",margin:"-1px",padding:"0"}},e.default?e.default({message:a.value}):a.value))}});export{D as default};
