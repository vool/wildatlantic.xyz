const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DcqNrhQi.js","./CDmeUewc.js","./BN5_x1j9.js","./CCnrH_mu.js","./D27dys8o.js","./8OV_RwA3.js","./BScuW9-I.js","./yxKozDuU.js","./CqkleIqs.js","./D2H2gZxK.js","./BJpFxwVR.js","./DPXMwXsw.js","./QEWVDqof.js","./-kH66qQ4.js","./Dtw-SHSX.js","./D2tn6ZT1.js","./BVtI--ZE.js","./BZBapK8B.js","./CxrqyVSH.js"])))=>i.map(i=>d[i]);
var tr=Object.defineProperty;var rr=Object.getPrototypeOf;var nr=Reflect.get;var lt=e=>{throw TypeError(e)};var sr=(e,t,r)=>t in e?tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ne=(e,t,r)=>sr(e,typeof t!="symbol"?t+"":t,r),Te=(e,t,r)=>t.has(e)||lt("Cannot "+r);var D=(e,t,r)=>(Te(e,t,"read from private field"),r?r.call(e):t.get(e)),ce=(e,t,r)=>t.has(e)?lt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),j=(e,t,r,n)=>(Te(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Re=(e,t,r)=>(Te(e,t,"access private method"),r);var ft=(e,t,r)=>nr(rr(e),r,t);import{b as $}from"./D27dys8o.js";import{getMdcConfigs as ir}from"./bNaE6FFb.js";class Ke extends Error{constructor(t){super(t),this.name="ShikiError"}}function ar(){return 2147483648}function or(){return typeof performance<"u"?performance.now():Date.now()}const ur=(e,t)=>e+(t-e%t)%t;async function cr(e){let t,r;const n={};function s(f){r=f,n.HEAPU8=new Uint8Array(f),n.HEAPU32=new Uint32Array(f)}function a(f,h,C){n.HEAPU8.copyWithin(f,h,h+C)}function i(f){try{return t.grow(f-r.byteLength+65535>>>16),s(t.buffer),1}catch{}}function o(f){const h=n.HEAPU8.length;f=f>>>0;const C=ar();if(f>C)return!1;for(let _=1;_<=4;_*=2){let E=h*(1+.2/_);E=Math.min(E,f+100663296);const x=Math.min(C,ur(Math.max(f,E),65536));if(i(x))return!0}return!1}const u=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function l(f,h,C=1024){const _=h+C;let E=h;for(;f[E]&&!(E>=_);)++E;if(E-h>16&&f.buffer&&u)return u.decode(f.subarray(h,E));let x="";for(;h<E;){let y=f[h++];if(!(y&128)){x+=String.fromCharCode(y);continue}const S=f[h++]&63;if((y&224)===192){x+=String.fromCharCode((y&31)<<6|S);continue}const P=f[h++]&63;if((y&240)===224?y=(y&15)<<12|S<<6|P:y=(y&7)<<18|S<<12|P<<6|f[h++]&63,y<65536)x+=String.fromCharCode(y);else{const M=y-65536;x+=String.fromCharCode(55296|M>>10,56320|M&1023)}}return x}function p(f,h){return f?l(n.HEAPU8,f,h):""}const c={emscripten_get_now:or,emscripten_memcpy_big:a,emscripten_resize_heap:o,fd_write:()=>0};async function d(){const h=await e({env:c,wasi_snapshot_preview1:c});t=h.memory,s(t.buffer),Object.assign(n,h),n.UTF8ToString=p}return await d(),n}var lr=Object.defineProperty,fr=(e,t,r)=>t in e?lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t,r)=>fr(e,typeof t!="symbol"?t+"":t,r);let R=null;function pr(e){throw new Ke(e.UTF8ToString(e.getLastOnigError()))}class Le{constructor(t){N(this,"utf16Length"),N(this,"utf8Length"),N(this,"utf16Value"),N(this,"utf8Value"),N(this,"utf16OffsetToUtf8"),N(this,"utf8OffsetToUtf16");const r=t.length,n=Le._utf8ByteLength(t),s=n!==r,a=s?new Uint32Array(r+1):null;s&&(a[r]=n);const i=s?new Uint32Array(n+1):null;s&&(i[n]=r);const o=new Uint8Array(n);let u=0;for(let l=0;l<r;l++){const p=t.charCodeAt(l);let c=p,d=!1;if(p>=55296&&p<=56319&&l+1<r){const f=t.charCodeAt(l+1);f>=56320&&f<=57343&&(c=(p-55296<<10)+65536|f-56320,d=!0)}s&&(a[l]=u,d&&(a[l+1]=u),c<=127?i[u+0]=l:c<=2047?(i[u+0]=l,i[u+1]=l):c<=65535?(i[u+0]=l,i[u+1]=l,i[u+2]=l):(i[u+0]=l,i[u+1]=l,i[u+2]=l,i[u+3]=l)),c<=127?o[u++]=c:c<=2047?(o[u++]=192|(c&1984)>>>6,o[u++]=128|(c&63)>>>0):c<=65535?(o[u++]=224|(c&61440)>>>12,o[u++]=128|(c&4032)>>>6,o[u++]=128|(c&63)>>>0):(o[u++]=240|(c&1835008)>>>18,o[u++]=128|(c&258048)>>>12,o[u++]=128|(c&4032)>>>6,o[u++]=128|(c&63)>>>0),d&&l++}this.utf16Length=r,this.utf8Length=n,this.utf16Value=t,this.utf8Value=o,this.utf16OffsetToUtf8=a,this.utf8OffsetToUtf16=i}static _utf8ByteLength(t){let r=0;for(let n=0,s=t.length;n<s;n++){const a=t.charCodeAt(n);let i=a,o=!1;if(a>=55296&&a<=56319&&n+1<s){const u=t.charCodeAt(n+1);u>=56320&&u<=57343&&(i=(a-55296<<10)+65536|u-56320,o=!0)}i<=127?r+=1:i<=2047?r+=2:i<=65535?r+=3:r+=4,o&&n++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const Pe=class X{constructor(t){if(N(this,"id",++X.LAST_ID),N(this,"_onigBinding"),N(this,"content"),N(this,"utf16Length"),N(this,"utf8Length"),N(this,"utf16OffsetToUtf8"),N(this,"utf8OffsetToUtf16"),N(this,"ptr"),!R)throw new Ke("Must invoke loadWasm first.");this._onigBinding=R,this.content=t;const r=new Le(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!X._sharedPtrInUse?(X._sharedPtr||(X._sharedPtr=R.omalloc(1e4)),X._sharedPtrInUse=!0,R.HEAPU8.set(r.utf8Value,X._sharedPtr),this.ptr=X._sharedPtr):this.ptr=r.createString(R)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===X._sharedPtr?X._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};N(Pe,"LAST_ID",0);N(Pe,"_sharedPtr",0);N(Pe,"_sharedPtrInUse",!1);let It=Pe;class hr{constructor(t){if(N(this,"_onigBinding"),N(this,"_ptr"),!R)throw new Ke("Must invoke loadWasm first.");const r=[],n=[];for(let o=0,u=t.length;o<u;o++){const l=new Le(t[o]);r[o]=l.createString(R),n[o]=l.utf8Length}const s=R.omalloc(4*t.length);R.HEAPU32.set(r,s/4);const a=R.omalloc(4*t.length);R.HEAPU32.set(n,a/4);const i=R.createOnigScanner(s,a,t.length);for(let o=0,u=t.length;o<u;o++)R.ofree(r[o]);R.ofree(a),R.ofree(s),i===0&&pr(R),this._onigBinding=R,this._ptr=i}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,n){let s=0;if(typeof n=="number"&&(s=n),typeof t=="string"){t=new It(t);const a=this._findNextMatchSync(t,r,!1,s);return t.dispose(),a}return this._findNextMatchSync(t,r,!1,s)}_findNextMatchSync(t,r,n,s){const a=this._onigBinding,i=a.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),s);if(i===0)return null;const o=a.HEAPU32;let u=i/4;const l=o[u++],p=o[u++],c=[];for(let d=0;d<p;d++){const f=t.convertUtf8OffsetToUtf16(o[u++]),h=t.convertUtf8OffsetToUtf16(o[u++]);c[d]={start:f,end:h,length:h-f}}return{index:l,captureIndices:c}}}function gr(e){return typeof e.instantiator=="function"}function dr(e){return typeof e.default=="function"}function mr(e){return typeof e.data<"u"}function Cr(e){return typeof Response<"u"&&e instanceof Response}function wr(e){var t;return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&((t=Buffer.isBuffer)==null?void 0:t.call(Buffer,e))||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}let ve;function yr(e){if(ve)return ve;async function t(){R=await cr(async r=>{let n=e;return n=await n,typeof n=="function"&&(n=await n(r)),typeof n=="function"&&(n=await n(r)),gr(n)?n=await n.instantiator(r):dr(n)?n=await n.default(r):(mr(n)&&(n=n.data),Cr(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await _r(n)(r):n=await kr(n)(r):wr(n)?n=await Fe(n)(r):n instanceof WebAssembly.Module?n=await Fe(n)(r):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await Fe(n.default)(r))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return ve=t(),ve}function Fe(e){return t=>WebAssembly.instantiate(e,t)}function _r(e){return t=>WebAssembly.instantiateStreaming(e,t)}function kr(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}async function Er(e){return e&&await yr(e),{createScanner(t){return new hr(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new It(t)}}}const F=String.raw,Ye=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]);function Ar(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function Z(e,t){if(!e)throw new Error(t??"Value expected");return e}const m={Alternator:"Alternator",Assertion:"Assertion",Backreference:"Backreference",Character:"Character",CharacterClassClose:"CharacterClassClose",CharacterClassHyphen:"CharacterClassHyphen",CharacterClassIntersector:"CharacterClassIntersector",CharacterClassOpen:"CharacterClassOpen",CharacterSet:"CharacterSet",Directive:"Directive",GroupClose:"GroupClose",GroupOpen:"GroupOpen",Subroutine:"Subroutine",Quantifier:"Quantifier",EscapedNumber:"EscapedNumber"},L={any:"any",digit:"digit",dot:"dot",grapheme:"grapheme",hex:"hex",newline:"newline",posix:"posix",property:"property",space:"space",word:"word"},et={flags:"flags",keep:"keep"},G={absent_repeater:"absent_repeater",atomic:"atomic",capturing:"capturing",group:"group",lookahead:"lookahead",lookbehind:"lookbehind"},ge={greedy:"greedy",lazy:"lazy",possessive:"possessive"},pt=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]),Lt=F`\[\^?`,Pt=`c.? | C(?:-.?)?|${F`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${F`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${F`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${F`o\{[^\}]*\}?`}|${F`\d{1,3}`}`,Mt=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,xe=new RegExp(F`
  \\ (?:
    ${Pt}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*
  )?
  | ${Mt.source}
  | ${Lt}
  | .
`.replace(/\s+/g,""),"gsu"),Ge=new RegExp(F`
  \\ (?:
    ${Pt}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${Lt}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function br(e,t={}){const r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if(typeof e!="string")throw new Error("String expected as pattern");const n=Or(r.flags),s=[n.extended],a={captureGroup:r.rules.captureGroup,getCurrentModX:()=>s.at(-1),numOpenGroups:0,popModX(){s.pop()},pushModX(c){s.push(c)},replaceCurrentModX(c){s[s.length-1]=c},singleline:r.rules.singleline};let i=[],o;for(xe.lastIndex=0;o=xe.exec(e);){const c=vr(a,e,o[0],xe.lastIndex);c.tokens?i.push(...c.tokens):c.token&&i.push(c.token),c.lastIndex!==void 0&&(xe.lastIndex=c.lastIndex)}const u=[];let l=0;i.forEach(c=>{c.type===m.GroupOpen&&(c.kind===G.capturing?c.number=++l:c.raw==="("&&u.push(c))}),l||u.forEach((c,d)=>{c.kind=G.capturing,c.number=d+1});const p=l||u.length;return i=i.map(c=>c.type===m.EscapedNumber?Nr(c,p):c).flat(),{tokens:i,flags:n}}function vr(e,t,r,n){const[s,a]=r;if(s==="["){const i=xr(t,r,n);return{tokens:i.tokens,lastIndex:i.lastIndex}}if(s==="\\"){if("AbBGyYzZ".includes(a))return{token:k(m.Assertion,r,{kind:r})};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:k(m.Subroutine,r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:k(m.Backreference,r)}}if(a==="K")return{token:k(m.Directive,r,{kind:et.keep})};if(a==="N"||a==="R")return{token:k(m.CharacterSet,r,{kind:L.newline,negate:a==="N"})};if(a==="O")return{token:k(m.CharacterSet,r,{kind:L.any})};if(a==="X")return{token:k(m.CharacterSet,r,{kind:L.grapheme})};const i=Ot(r,{inCharClass:!1});return Array.isArray(i)?{tokens:i}:{token:i}}if(s==="("){if(r==="(*")throw new Error(`Unsupported named callout "${r}"`);if(r==="(?{")throw new Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(t[n]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:Ir(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,r==="("&&!e.captureGroup||r==="(?:")return{token:k(m.GroupOpen,r,{kind:G.group})};if(r==="(?>")return{token:k(m.GroupOpen,r,{kind:G.atomic})};if(r==="(?="||r==="(?!"||r==="(?<="||r==="(?<!")return{token:k(m.GroupOpen,r,{kind:r[2]==="<"?G.lookbehind:G.lookahead,negate:r.endsWith("!")})};if(r==="("&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'")){const i=k(m.GroupOpen,r,{kind:G.capturing});return r!=="("&&(i.name=r.slice(3,-1)),{token:i}}if(r.startsWith("(?~")){if(r==="(?~|")throw new Error(`Unsupported absent function kind "${r}"`);return{token:k(m.GroupOpen,r,{kind:G.absent_repeater})}}throw r==="(?("?new Error(`Unsupported conditional "${r}"`):new Error(`Invalid or unsupported group option "${r}"`)}if(r===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:k(m.GroupClose,r)}}if(r==="#"&&e.getCurrentModX()){const i=t.indexOf(`
`,n);return{lastIndex:i===-1?t.length:i}}if(/^\s$/.test(r)&&e.getCurrentModX()){const i=/\s+/y;return i.lastIndex=n,{lastIndex:i.exec(t)?i.lastIndex:n}}if(r===".")return{token:k(m.CharacterSet,r,{kind:L.dot})};if(r==="^"||r==="$"){const i=e.singleline?{"^":F`\A`,$:F`\Z`}[r]:r;return{token:k(m.Assertion,r,{kind:i})}}return r==="|"?{token:k(m.Alternator,r)}:Mt.test(r)?{token:Lr(r)}:(Ut(r),{token:k(m.Character,r,{value:r.codePointAt(0)})})}function xr(e,t,r){const n=[k(m.CharacterClassOpen,t,{negate:t[1]==="^"})];let s=1,a;for(Ge.lastIndex=r;a=Ge.exec(e);){const i=a[0];if(i[0]==="["&&i[1]!==":")s++,n.push(k(m.CharacterClassOpen,i,{negate:i[1]==="^"}));else if(i==="]"){if(n.at(-1).type===m.CharacterClassOpen)n.push(k(m.Character,i,{value:93}));else if(s--,n.push(k(m.CharacterClassClose,i)),!s)break}else{const o=$r(i);Array.isArray(o)?n.push(...o):n.push(o)}}return{tokens:n,lastIndex:Ge.lastIndex||e.length}}function $r(e){if(e[0]==="\\")return Ot(e,{inCharClass:!0});if(e[0]==="["){const t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!Ye.has(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return k(m.CharacterSet,e,{kind:L.posix,value:t.groups.name,negate:!!t.groups.negate})}return e==="-"?k(m.CharacterClassHyphen,e):e==="&&"?k(m.CharacterClassIntersector,e):(Ut(e),k(m.Character,e,{value:e.codePointAt(0)}))}function Ot(e,{inCharClass:t}){const r=e[1];if(r==="c"||r==="C")return Sr(e);if("dDhHsSwW".includes(r))return Pr(e);if(e.startsWith(F`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return Mr(e)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(e))try{const n=e.split(/\\x/).slice(1).map(i=>parseInt(i,16)),s=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(n)),a=new TextEncoder;return[...s].map(i=>{const o=[...a.encode(i)].map(u=>`\\x${u.toString(16)}`).join("");return k(m.Character,o,{value:i.codePointAt(0)})})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(r==="u"||r==="x")return k(m.Character,e,{value:Ur(e)});if(pt.has(r))return k(m.Character,e,{value:pt.get(r)});if(/\d/.test(r))return k(m.EscapedNumber,e,{inCharClass:t});if(e==="\\")throw new Error(F`Incomplete escape "\"`);if(r==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return k(m.Character,e,{value:e.codePointAt(1)});throw new Error(`Unexpected escape "${e}"`)}function k(e,t,r){return{type:e,raw:t,...r}}function Sr(e){const t=e[1]==="c"?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return k(m.Character,e,{value:t.toUpperCase().codePointAt(0)-64})}function Ir(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??(n="");const s=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),a=ht(r),i=ht(n),o={};if(a&&(o.enable=a),i&&(o.disable=i),e.endsWith(")"))return t.replaceCurrentModX(s),k(m.Directive,e,{kind:et.flags,flags:o});if(e.endsWith(":")){t.pushModX(s),t.numOpenGroups++;const u=k(m.GroupOpen,e,{kind:G.group});return(a||i)&&(u.flags=o),u}throw new Error(`Unexpected flag modifier "${e}"`)}function Lr(e){const t={};if(e[0]==="{"){const{min:r,max:n}=/^\{(?<min>\d*)(?:,(?<max>\d*))?/.exec(e).groups,s=1e5;if(+r>s||+n>s)throw new Error("Quantifier value unsupported in Oniguruma");t.min=+r,t.max=n===void 0?+r:n===""?1/0:+n,t.kind=e.endsWith("?")?ge.lazy:ge.greedy}else t.min=e[0]==="+"?1:0,t.max=e[0]==="?"?1:1/0,t.kind=e[1]==="+"?ge.possessive:e[1]==="?"?ge.lazy:ge.greedy;return k(m.Quantifier,e,t)}function Pr(e){const t=e[1].toLowerCase();return k(m.CharacterSet,e,{kind:{d:L.digit,h:L.hex,s:L.space,w:L.word}[t],negate:e[1]!==t})}function Mr(e){const{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups,s=t==="P"&&!r||t==="p"&&!!r;return k(m.CharacterSet,e,{kind:L.property,value:n,negate:s})}function ht(e){const t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function Or(e){if(!/^[imxDPSW]*$/.test(e))throw new Error(`Flags "${e}" includes unsupported value`);const t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1};for(const r of e)t[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[r]]=!0;return t}function Ur(e){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const t=e[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(e).groups.hex:e.slice(2);return parseInt(t,16)}function Nr(e,t){const{raw:r,inCharClass:n}=e,s=r.slice(1);if(!n&&(s!=="0"&&s.length===1||s[0]!=="0"&&+s<=t))return[k(m.Backreference,r)];const a=[],i=s.match(/^[0-7]+|\d/g);for(let o=0;o<i.length;o++){const u=i[o];let l;if(o===0&&u!=="8"&&u!=="9"){if(l=parseInt(u,8),l>127)throw new Error(F`Octal encoded byte above 177 unsupported "${r}"`)}else l=u.codePointAt(0);a.push(k(m.Character,(o===0?"\\":"")+u,{value:l}))}return a}function Ut(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`)}const g={AbsentFunction:"AbsentFunction",Alternative:"Alternative",Assertion:"Assertion",Backreference:"Backreference",CapturingGroup:"CapturingGroup",Character:"Character",CharacterClass:"CharacterClass",CharacterClassRange:"CharacterClassRange",CharacterSet:"CharacterSet",Directive:"Directive",Flags:"Flags",Group:"Group",LookaroundAssertion:"LookaroundAssertion",Pattern:"Pattern",Quantifier:"Quantifier",Regex:"Regex",Subroutine:"Subroutine",Recursion:"Recursion"},Nt={repeater:"repeater"},v={grapheme_boundary:"grapheme_boundary",line_end:"line_end",line_start:"line_start",search_start:"search_start",string_end:"string_end",string_end_newline:"string_end_newline",string_start:"string_start",word_boundary:"word_boundary"},K={union:"union",intersection:"intersection"},I=L,ye=et,ze=ge,ae={lookahead:"lookahead",lookbehind:"lookbehind"};function Tt(e,t={}){const r={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},n=br(e,{flags:r.flags,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline}}),s={capturingGroups:[],current:0,hasNumberedRef:!1,namedGroupsByName:new Map,normalizeUnknownPropertyNames:r.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:r.skipBackrefValidation,skipLookbehindValidation:r.skipLookbehindValidation,skipPropertyNameValidation:r.skipPropertyNameValidation,subroutines:[],token:null,tokens:n.tokens,unicodePropertyMap:r.unicodePropertyMap,walk:a};function a(d,f){const h=n.tokens[s.current];switch(s.parent=d,s.token=h,s.current++,h.type){case m.Alternator:return ee();case m.Assertion:return Wr(h);case m.Backreference:return Tr(s);case m.Character:return tt(h.value,{useLastValid:!!f.isCheckingRangeEnd});case m.CharacterClassHyphen:return Rr(s,f);case m.CharacterClassOpen:return Fr(s,f);case m.CharacterSet:return Gr(s);case m.Directive:return Qr(Z(ye[h.kind],`Unexpected directive kind "${h.kind}"`),{flags:h.flags});case m.GroupOpen:return Dr(s,f);case m.Quantifier:return Br(s);case m.Subroutine:return Vr(s);default:throw new Error(`Unexpected token type "${h.type}"`)}}const i=Jr(Zr(),Xr(n.flags));let o=i.pattern.alternatives[0];for(;s.current<n.tokens.length;){const d=a(o,{});d.type===g.Alternative?(i.pattern.alternatives.push(d),o=d):o.elements.push(d)}const{capturingGroups:u,hasNumberedRef:l,namedGroupsByName:p,subroutines:c}=s;if(l&&p.size&&!r.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:d}of c)if(typeof d=="number"){if(d>u.length)throw new Error("Subroutine uses a group number that's not defined")}else if(p.has(d)){if(p.get(d).length>1)throw new Error(F`Subroutine uses a duplicate group name "\g<${d}>"`)}else throw new Error(F`Subroutine uses a group name that's not defined "\g<${d}>"`);return i}function Tr(e){const{raw:t}=e.token,r=/^\\k[<']/.test(t),n=r?t.slice(3,-1):t.slice(1),s=(a,i=!1)=>{const o=e.capturingGroups.length;let u=!1;if(a>o)if(e.skipBackrefValidation)u=!0;else throw new Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,Qe(i?o+1-a:a,{orphan:u})};if(r){const a=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(a)return s(+a.groups.num,!!a.groups.sign);if(/[-+]/.test(n))throw new Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(n))throw new Error(`Group name not defined to the left "${t}"`);return Qe(n)}return s(+n)}function Rr(e,t){const{parent:r,tokens:n,walk:s}=e,a=r.elements.at(-1),i=n[e.current];if(!t.isCheckingRangeEnd&&a&&a.type!==g.CharacterClass&&a.type!==g.CharacterClassRange&&i&&i.type!==m.CharacterClassOpen&&i.type!==m.CharacterClassClose&&i.type!==m.CharacterClassIntersector){const o=s(r,{...t,isCheckingRangeEnd:!0});if(a.type===g.Character&&o.type===g.Character)return r.elements.pop(),zr(a,o);throw new Error("Invalid character class range")}return tt(45)}function Fr(e,t){const{token:r,tokens:n,walk:s}=e,a=n[e.current],i=[Se()];let o=gt(a);for(;o.type!==m.CharacterClassClose;){if(o.type===m.CharacterClassIntersector)i.push(Se()),e.current++;else{const l=i.at(-1);l.elements.push(s(l,t))}o=gt(n[e.current],a)}const u=Se({negate:r.negate});return i.length===1?u.elements=i[0].elements:(u.kind=K.intersection,u.elements=i.map(l=>l.elements.length===1?l.elements[0]:l)),e.current++,u}function Gr({token:e,normalizeUnknownPropertyNames:t,skipPropertyNameValidation:r,unicodePropertyMap:n}){let{kind:s,negate:a,value:i}=e;if(s===L.property){const o=Me(i);if(Ye.has(o)&&!(n!=null&&n.has(o)))s=L.posix,i=o;else return de(i,{negate:a,normalizeUnknownPropertyNames:t,skipPropertyNameValidation:r,unicodePropertyMap:n})}return s===L.posix?qr(i,{negate:a}):Xe(s,{negate:a})}function Dr(e,t){const{token:r,tokens:n,capturingGroups:s,namedGroupsByName:a,skipLookbehindValidation:i,walk:o}=e;let u=jr(r);const l=u.type===g.AbsentFunction,p=u.kind===ae.lookbehind,c=p&&u.negate;if(u.type===g.CapturingGroup&&(s.push(u),u.name&&Ar(a,u.name,[]).push(u)),l&&t.isInAbsentFunction)throw new Error("Nested absent function not supported by Oniguruma");let d=dt(n[e.current]);for(;d.type!==m.GroupClose;){if(d.type===m.Alternator)u.alternatives.push(ee()),e.current++;else{const f=u.alternatives.at(-1),h=o(f,{...t,isInAbsentFunction:t.isInAbsentFunction||l,isInLookbehind:t.isInLookbehind||p,isInNegLookbehind:t.isInNegLookbehind||c});if(f.elements.push(h),(p||t.isInLookbehind)&&!i){const C="Lookbehind includes a pattern not allowed by Oniguruma";if(c||t.isInNegLookbehind){if(h.kind===ae.lookahead||h.type===g.CapturingGroup)throw new Error(C)}else if(h.kind===ae.lookahead||h.kind===ae.lookbehind&&h.negate)throw new Error(C)}}d=dt(n[e.current])}return e.current++,u}function Br({token:e,parent:t}){const{min:r,max:n,kind:s}=e,a=t.elements.at(-1);if(!a||a.type===g.Assertion||a.type===g.Directive||a.type===g.LookaroundAssertion)throw new Error("Quantifier requires a repeatable token");const i=Gt(a,r,n,Z(ze[s],`Unexpected quantifier kind "${s}"`));return t.elements.pop(),i}function Vr(e){const{token:t,capturingGroups:r,subroutines:n}=e;let s=t.raw.slice(3,-1);const a=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(s);if(a){const o=+a.groups.num,u=r.length;if(e.hasNumberedRef=!0,s={"":o,"+":u+o,"-":u+1-o}[a.groups.sign],s<1)throw new Error("Invalid subroutine number")}else s==="0"&&(s=0);const i=Kr(s);return n.push(i),i}function Hr(e){return{type:g.AbsentFunction,kind:e,alternatives:[ee()]}}function ee(){return{type:g.Alternative,elements:[]}}function Rt(e,t){const r={type:g.Assertion,kind:e};return(e===v.word_boundary||e===v.grapheme_boundary)&&(r.negate=!!(t!=null&&t.negate)),r}function Wr({kind:e}){return Rt(Z({"^":v.line_start,$:v.line_end,"\\A":v.string_start,"\\b":v.word_boundary,"\\B":v.word_boundary,"\\G":v.search_start,"\\y":v.grapheme_boundary,"\\Y":v.grapheme_boundary,"\\z":v.string_end,"\\Z":v.string_end_newline}[e],`Unexpected assertion kind "${e}"`),{negate:e===F`\B`||e===F`\Y`})}function Qe(e,t){const r=!!(t!=null&&t.orphan);return{type:g.Backreference,ref:e,...r&&{orphan:r}}}function jr({flags:e,kind:t,name:r,negate:n,number:s}){switch(t){case G.absent_repeater:return Hr(Nt.repeater);case G.atomic:return z({atomic:!0});case G.capturing:return Ft(s,r);case G.group:return z({flags:e});case G.lookahead:case G.lookbehind:return _e({behind:t===G.lookbehind,negate:n});default:throw new Error(`Unexpected group kind "${t}"`)}}function Ft(e,t){const r=t!==void 0;if(r&&!Yr(t))throw new Error(`Group name "${t}" invalid in Oniguruma`);return{type:g.CapturingGroup,number:e,...r&&{name:t},alternatives:[ee()]}}function tt(e,t){const r={useLastValid:!1,...t};if(e>1114111){const n=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${n}}"`):new Error(`Invalid code point out of range in JS "\\x{${n}}"`)}return{type:g.Character,value:e}}function Se(e){const t={kind:K.union,negate:!1,...e};return{type:g.CharacterClass,kind:t.kind,negate:t.negate,elements:[]}}function zr(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:g.CharacterClassRange,min:e,max:t}}function Xe(e,t){const r=!!(t!=null&&t.negate),n={type:g.CharacterSet,kind:Z(I[e],`Unexpected character set kind "${e}"`)};return(e===L.digit||e===L.hex||e===L.newline||e===L.space||e===L.word)&&(n.negate=r),(e===L.grapheme||e===L.newline&&!r)&&(n.variableLength=!0),n}function Qr(e,t){const r={type:g.Directive,kind:e};return e===ye.flags&&(r.flags=t.flags),r}function Xr(e){return{type:g.Flags,...e}}function z(e){const t=e==null?void 0:e.atomic,r=e==null?void 0:e.flags;return{type:g.Group,...t&&{atomic:t},...r&&{flags:r},alternatives:[ee()]}}function _e(e){const t={behind:!1,negate:!1,...e};return{type:g.LookaroundAssertion,kind:t.behind?ae.lookbehind:ae.lookahead,negate:t.negate,alternatives:[ee()]}}function Zr(){return{type:g.Pattern,alternatives:[ee()]}}function qr(e,t){const r=!!(t!=null&&t.negate);if(!Ye.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:g.CharacterSet,kind:I.posix,value:e,negate:r}}function Gt(e,t,r,n=ze.greedy){const s={type:g.Quantifier,min:t,max:r,kind:n,element:e};return r<t?{...s,min:r,max:t,kind:ze.possessive}:s}function Jr(e,t){return{type:g.Regex,pattern:e,flags:t}}function Kr(e){return{type:g.Subroutine,ref:e}}function de(e,t){var s;const r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t};let n=(s=r.unicodePropertyMap)==null?void 0:s.get(Me(e));if(!n){if(r.normalizeUnknownPropertyNames)n=en(e);else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw new Error(F`Invalid Unicode property "\p{${e}}"`)}return{type:g.CharacterSet,kind:I.property,value:n??e,negate:r.negate}}function Yr(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}function en(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,t=>t[0].toUpperCase()+t.slice(1).toLowerCase())}function Me(e){return e.replace(/[- _]+/g,"").toLowerCase()}function gt(e,t){return Z(e,`${(t==null?void 0:t.value)===93?"Empty":"Unclosed"} character class`)}function dt(e){return Z(e,"Unclosed group")}const rt=String.raw,mt=rt`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,Ct=rt`\u{E0061}-\u{E007A}`,tn=()=>new RegExp(rt`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${Ct}]{2}[\u{E0030}-\u{E0039}${Ct}]{1,3}\u{E007F}|${mt}(?:\u200D${mt})*`,"gu");function ke(e,t,r=null){function n(a,i){for(let o=0;o<a.length;o++){const u=s(a[o],i,o,a);o=Math.max(-1,o+u)}}function s(a,i=null,o=null,u=null){var E,x;const l="Container expected";let p=0,c=!1;const d={node:a,parent:i,key:o,container:u,root:e,remove(){Z(u,l).splice(Math.max(0,o+p),1),p--,c=!0},removeAllNextSiblings(){return Z(u,l).splice(o+1)},removeAllPrevSiblings(){const y=o+p;return p-=y,Z(u,l).splice(0,Math.max(0,y))},replaceWith(y,S={}){const P=!!S.traverse;u?u[Math.max(0,o+p)]=y:i[o]=y,P&&s(y,i,o,u),c=!0},replaceWithMultiple(y,S={}){const P=!!S.traverse;if(Z(u,l).splice(Math.max(0,o+p),1,...y),p+=y.length-1,P){let M=0;for(let O=0;O<y.length;O++)M+=s(y[O],i,o+O+M,u)}c=!0},skip(){c=!0}},f=t["*"],h=t[a.type],C=typeof f=="function"?f:f==null?void 0:f.enter,_=typeof h=="function"?h:h==null?void 0:h.enter;if(C==null||C(d,r),_==null||_(d,r),!c)switch(a.type){case g.Regex:s(a.pattern,a,"pattern"),s(a.flags,a,"flags");break;case g.Alternative:case g.CharacterClass:n(a.elements,a);break;case g.Assertion:case g.Backreference:case g.Character:case g.CharacterSet:case g.Directive:case g.Flags:case g.Recursion:case g.Subroutine:break;case g.AbsentFunction:case g.CapturingGroup:case g.Group:case g.Pattern:n(a.alternatives,a);break;case g.CharacterClassRange:s(a.min,a,"min"),s(a.max,a,"max");break;case g.LookaroundAssertion:n(a.alternatives,a);break;case g.Quantifier:s(a.element,a,"element");break;default:throw new Error(`Unexpected node type "${a.type}"`)}return(E=f==null?void 0:f.exit)==null||E.call(f,d,r),(x=h==null?void 0:h.exit)==null||x.call(h,d,r),p}s(e)}const rn=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function nn(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}function sn(e,t,r,n){return e.slice(0,t)+n+e.slice(t+r.length)}const W=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function nt(e,t,r,n){const s=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),a=[!1];let i=0,o="";for(const u of e.matchAll(s)){const{0:l,groups:{$skip:p}}=u;if(!p&&(!n||n===W.DEFAULT==!i)){r instanceof Function?o+=r(u,{context:i?W.CHAR_CLASS:W.DEFAULT,negated:a[a.length-1]}):o+=r;continue}l[0]==="["?(i++,a.push(l[1]==="^")):l==="]"&&i&&(i--,a.pop()),o+=l}return o}function Dt(e,t,r,n){nt(e,t,r,n)}function an(e,t,r=0,n){if(!new RegExp(t,"su").test(e))return null;const s=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");s.lastIndex=r;let a=0,i;for(;i=s.exec(e);){const{0:o,groups:{$skip:u}}=i;if(!u&&(!n||n===W.DEFAULT==!a))return i;o==="["?a++:o==="]"&&a&&a--,s.lastIndex==i.index&&s.lastIndex++}return null}function $e(e,t,r){return!!an(e,t,0,r)}function on(e,t){const r=/\\?./gsu;r.lastIndex=t;let n=e.length,s=0,a=1,i;for(;i=r.exec(e);){const[o]=i;if(o==="[")s++;else if(s)o==="]"&&s--;else if(o==="(")a++;else if(o===")"&&(a--,!a)){n=i.index;break}}return e.slice(t,n)}const wt=new RegExp(String.raw`(?<noncapturingStart>${rn})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function un(e,t){const r=(t==null?void 0:t.hiddenCaptures)??[];let n=(t==null?void 0:t.captureTransfers)??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:n,hiddenCaptures:r};const s="(?>",a="(?:(?=(",i=[0],o=[];let u=0,l=0,p=NaN,c;do{c=!1;let d=0,f=0,h=!1,C;for(wt.lastIndex=Number.isNaN(p)?0:p+a.length;C=wt.exec(e);){const{0:_,index:E,groups:{capturingStart:x,noncapturingStart:y}}=C;if(_==="[")d++;else if(d)_==="]"&&d--;else if(_===s&&!h)p=E,h=!0;else if(h&&y)f++;else if(x)h?f++:(u++,i.push(u+l));else if(_===")"&&h){if(!f){l++;const S=u+l;if(e=`${e.slice(0,p)}${a}${e.slice(p+s.length,E)}))<$$${S}>)${e.slice(E+1)}`,c=!0,o.push(S),nn(r,S),n.size){const P=new Map;n.forEach((M,O)=>{P.set(O>=S?O+1:O,M.map(B=>B>=S?B+1:B))}),n=P}break}f--}}}while(c);return r.push(...o),e=nt(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:d,groups:{backrefNum:f,wrappedBackrefNum:h}})=>{if(f){const C=+f;if(C>i.length-1)throw new Error(`Backref "${d}" greater than number of captures`);return`\\${i[C]}`}return`\\${h}`},W.DEFAULT),{pattern:e,captureTransfers:n,hiddenCaptures:r}}const Bt=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,De=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${Bt})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function cn(e){if(!new RegExp(`${Bt}\\+`).test(e))return{pattern:e};const t=[];let r=null,n=null,s="",a=0,i;for(De.lastIndex=0;i=De.exec(e);){const{0:o,index:u,groups:{qBase:l,qMod:p,invalidQ:c}}=i;if(o==="[")a||(n=u),a++;else if(o==="]")a?a--:n=null;else if(!a)if(p==="+"&&s&&!s.startsWith("(")){if(c)throw new Error(`Invalid quantifier "${o}"`);let d=-1;if(/^\{\d+\}$/.test(l))e=sn(e,u+l.length,p,"");else{if(s===")"||s==="]"){const f=s===")"?r:n;if(f===null)throw new Error(`Invalid unmatched "${s}"`);e=`${e.slice(0,f)}(?>${e.slice(f,u)}${l})${e.slice(u+o.length)}`}else e=`${e.slice(0,u-s.length)}(?>${s}${l})${e.slice(u+o.length)}`;d+=4}De.lastIndex+=d}else o[0]==="("?t.push(u):o===")"&&(r=t.length?t.pop():null);s=o}return{pattern:e}}const H=String.raw,ln=H`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,Ze=H`\(\?R=(?<rDepth>[^\)]+)\)|${ln}`,Oe=H`\(\?<(?![=!])(?<captureName>[^>]+)>`,Vt=H`${Oe}|(?<unnamed>\()(?!\?)`,le=new RegExp(H`${Oe}|${Ze}|\(\?|\\?.`,"gsu"),Be="Cannot use multiple overlapping recursions";function fn(e,t){const{hiddenCaptures:r,mode:n}={hiddenCaptures:[],mode:"plugin",...t};let s=(t==null?void 0:t.captureTransfers)??new Map;if(!new RegExp(Ze,"su").test(e))return{pattern:e,captureTransfers:s,hiddenCaptures:r};if(n==="plugin"&&$e(e,H`\(\?\(DEFINE\)`,W.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const a=[],i=$e(e,H`\\[1-9]`,W.DEFAULT),o=new Map,u=[];let l=!1,p=0,c=0,d;for(le.lastIndex=0;d=le.exec(e);){const{0:f,groups:{captureName:h,rDepth:C,gRNameOrNum:_,gRDepth:E}}=d;if(f==="[")p++;else if(p)f==="]"&&p--;else if(C){if(yt(C),l)throw new Error(Be);if(i)throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const x=e.slice(0,d.index),y=e.slice(le.lastIndex);if($e(y,Ze,W.DEFAULT))throw new Error(Be);const S=+C-1;e=_t(x,y,S,!1,r,a,c),s=Et(s,x,S,a.length,0,c);break}else if(_){yt(E);let x=!1;for(const V of u)if(V.name===_||V.num===+_){if(x=!0,V.hasRecursedWithin)throw new Error(Be);break}if(!x)throw new Error(H`Recursive \g cannot be used outside the referenced group "${n==="external"?_:H`\g<${_}&R=${E}>`}"`);const y=o.get(_),S=on(e,y);if(i&&$e(S,H`${Oe}|\((?!\?)`,W.DEFAULT))throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const P=e.slice(y,d.index),M=S.slice(P.length+f.length),O=a.length,B=+E-1,te=_t(P,M,B,!0,r,a,c);s=Et(s,P,B,a.length-O,O,c);const re=e.slice(0,y),he=e.slice(y+S.length);e=`${re}${te}${he}`,le.lastIndex+=te.length-f.length-P.length-M.length,u.forEach(V=>V.hasRecursedWithin=!0),l=!0}else if(h)c++,o.set(String(c),le.lastIndex),o.set(h,le.lastIndex),u.push({num:c,name:h});else if(f[0]==="("){const x=f==="(";x&&(c++,o.set(String(c),le.lastIndex)),u.push(x?{num:c}:{})}else f===")"&&u.pop()}return r.push(...a),{pattern:e,captureTransfers:s,hiddenCaptures:r}}function yt(e){const t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if(e=+e,e<2||e>100)throw new Error(t)}function _t(e,t,r,n,s,a,i){const o=new Set;n&&Dt(e+t,Oe,({groups:{captureName:l}})=>{o.add(l)},W.DEFAULT);const u=[r,n?o:null,s,a,i];return`${e}${kt(`(?:${e}`,"forward",...u)}(?:)${kt(`${t})`,"backward",...u)}${t}`}function kt(e,t,r,n,s,a,i){const u=p=>t==="forward"?p+2:r-p+2-1;let l="";for(let p=0;p<r;p++){const c=u(p);l+=nt(e,H`${Vt}|\\k<(?<backref>[^>]+)>`,({0:d,groups:{captureName:f,unnamed:h,backref:C}})=>{if(C&&n&&!n.has(C))return d;const _=`_$${c}`;if(h||f){const E=i+a.length+1;return a.push(E),pn(s,E),h?d:`(?<${f}${_}>`}return H`\k<${C}${_}>`},W.DEFAULT)}return l}function pn(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}function Et(e,t,r,n,s,a){if(e.size&&n){let i=0;Dt(t,Vt,()=>i++,W.DEFAULT);const o=a-i+s,u=new Map;return e.forEach((l,p)=>{const c=(n-i*r)/r,d=i*r,f=p>o+i?p+n:p,h=[];for(const C of l)if(C<=o)h.push(C);else if(C>o+i+c)h.push(C+n);else if(C<=o+i)for(let _=0;_<=r;_++)h.push(C+i*_);else for(let _=0;_<=r;_++)h.push(C+d+c*_);u.set(f,h)}),u}return e}var T=String.fromCodePoint,w=String.raw,Ce={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};Ce.literalHyphenIncorrectlyCreatesRange=(()=>{if(!Ce.unicodeSets)return!1;try{new RegExp(w`[\d\-a]`,"v")}catch{return!0}return!1})();function Ie(e,{enable:t,disable:r}){return{dotAll:!(r!=null&&r.dotAll)&&!!(t!=null&&t.dotAll||e.dotAll),ignoreCase:!(r!=null&&r.ignoreCase)&&!!(t!=null&&t.ignoreCase||e.ignoreCase)}}function Ee(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function qe(e,t){return At[e]>=At[t]}function hn(e,t){if(!e)throw new Error("Value expected");return e}var At={ES2025:2025,ES2024:2024,ES2018:2018},gn={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function Ht(e={}){if({}.toString.call(e)!=="[object Object]")throw new Error("Unexpected options");if(e.target!==void 0&&!gn[e.target])throw new Error(`Unexpected target "${e.target}"`);const t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return t.target==="auto"&&(t.target=Ce.flagGroups?"ES2025":Ce.unicodeSets?"ES2024":"ES2018"),t}var dn="[	-\r ]",q=w`[\p{L}\p{M}\p{N}\p{Pc}]`,mn=new Set([T(304),T(305)]);function Wt(e){if(mn.has(e))return[e];const t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),s=yn.get(r),a=Cn.get(r),i=wn.get(r);return[...n].length===1&&t.add(n),i&&t.add(i),s&&t.add(s),t.add(r),a&&t.add(a),[...t]}var st=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[Me(e),e])),Cn=new Map([["s",T(383)],[T(383),"s"]]),wn=new Map([[T(223),T(7838)],[T(107),T(8490)],[T(229),T(8491)],[T(969),T(8486)]]),yn=new Map([ne(453),ne(456),ne(459),ne(498),...Ve(8072,8079),...Ve(8088,8095),...Ve(8104,8111),ne(8124),ne(8140),ne(8188)]),_n=new Map([["alnum",w`[\p{Alpha}\p{Nd}]`],["alpha",w`\p{Alpha}`],["ascii",w`\p{ASCII}`],["blank",w`[\p{Zs}\t]`],["cntrl",w`\p{Cc}`],["digit",w`\p{Nd}`],["graph",w`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",w`\p{Lower}`],["print",w`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",w`[\p{P}\p{S}]`],["space",w`\p{space}`],["upper",w`\p{Upper}`],["word",w`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",w`\p{AHex}`]]);function kn(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}function ne(e){const t=T(e);return[t.toLowerCase(),t]}function Ve(e,t){return kn(e,t).map(r=>ne(r))}var jt=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function En(e,t){const r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};zt(e);const n={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:qe(r.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};ke(e,An,n);const s={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},a={currentFlags:s,prevFlags:null,globalFlags:s,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};ke(e,bn,a);const i={groupsByName:a.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:a.reffedNodesByReferencer};return ke(e,vn,i),e._originMap=a.groupOriginByCopy,e._strategy=n.strategy,e}var An={AbsentFunction({node:e,parent:t,replaceWith:r}){const{kind:n,alternatives:s}=e;if(n===Nt.repeater){const a=J(z(),[we(_e({negate:!0}),s),de("Any")]),i=Gt(a,0,1/0);a.parent=i,r(b(J(z(),[i]),t),{traverse:!0})}else throw new Error(`Unexpected absent function kind "${n}"`)},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){const s=e.elements.filter(a=>a.kind===ye.flags);for(let a=r+1;a<t.alternatives.length;a++){const i=t.alternatives[a];Ee(n,i,[]).push(...s)}},exit({node:e},{flagDirectivesByAlt:t}){var r;if((r=t.get(e))!=null&&r.length){const n=Xt(t.get(e));if(n){const s=b(J(z({flags:n}),e.elements),e);e.elements=[s]}}}},Assertion({node:e,parent:t,key:r,container:n,root:s,remove:a,replaceWith:i},o){const{kind:u,negate:l}=e,{asciiWordBoundaries:p,avoidSubclass:c,supportedGNodes:d,wordIsAscii:f}=o;if(u===v.grapheme_boundary)throw new Error(`Unsupported grapheme boundary "\\${l?"Y":"y"}"`);if(u===v.line_end)i(b(Q(w`(?=\z|\n)`),t));else if(u===v.line_start)i(b(Q(w`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if(u===v.search_start)if(d.has(e))s.flags.sticky=!0,a();else{const h=n[r-1];if(h&&Pn(h))i(b(J(_e({negate:!0})),t));else{if(c)throw new Error(w`Uses "\G" in a way that requires a subclass`);i(b(Rt(v.string_start),t)),o.strategy="clip_search"}}else if(!(u===v.string_end||u===v.string_start))if(u===v.string_end_newline)i(b(Q(w`(?=\n?\z)`),t));else if(u===v.word_boundary){if(!f&&!p){const h=`(?:(?<=${q})(?!${q})|(?<!${q})(?=${q}))`,C=`(?:(?<=${q})(?=${q})|(?<!${q})(?!${q}))`;i(b(Q(l?C:h),t))}}else throw new Error(`Unexpected assertion kind "${u}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!We(r)&&(r=He(r,t),e.ref=r)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!We(n)&&(n=He(n,t),e.name=n),r.set(e.number,e),n&&r.set(n,e)},CharacterClassRange({node:e,parent:t,replaceWith:r}){t.kind===K.intersection&&r(b(we(Se(),[e]),t),{traverse:!0})},CharacterSet({node:e,parent:t,replaceWith:r},{accuracy:n,minTargetEs2024:s,digitIsAscii:a,spaceIsAscii:i,wordIsAscii:o}){const{kind:u,negate:l,value:p}=e;if(a&&(u===I.digit||p==="digit")){r(b(Xe(I.digit,{negate:l}),t));return}if(i&&(u===I.space||p==="space")){r(b(je(Q(dn),l),t));return}if(o&&(u===I.word||p==="word")){r(b(Xe(I.word,{negate:l}),t));return}if(u===I.any)r(b(de("Any"),t));else if(u===I.digit)r(b(de("Nd",{negate:l}),t));else if(u!==I.dot)if(u===I.grapheme){if(n==="strict")throw new Error(w`Use of "\X" requires non-strict accuracy`);const c=s?w`\p{RGI_Emoji}`:tn().source.replace(/\\u\{/g,"\\x{");r(b(Q(w`(?>\r\n|${c}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if(u===I.hex)r(b(de("AHex",{negate:l}),t));else if(u===I.newline)r(b(Q(l?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),t));else if(u===I.posix)if(!s&&(p==="graph"||p==="print")){if(n==="strict")throw new Error(`POSIX class "${p}" requires min target ES2024 or non-strict accuracy`);let c={graph:"!-~",print:" -~"}[p];l&&(c=`\0-${T(c.codePointAt(0)-1)}${T(c.codePointAt(2)+1)}-􏿿`),r(b(Q(`[${c}]`),t))}else r(b(je(Q(_n.get(p)),l),t));else if(u===I.property)st.has(Me(p))||(e.key="sc");else if(u===I.space)r(b(de("space",{negate:l}),t));else if(u===I.word)r(b(je(Q(q),l),t));else throw new Error(`Unexpected character set kind "${u}"`)},Directive({node:e,parent:t,root:r,remove:n,replaceWith:s,removeAllPrevSiblings:a,removeAllNextSiblings:i}){const{kind:o,flags:u}=e;if(o===ye.flags)!u.enable&&!u.disable?n():s(b(J(z({flags:u}),i()),t),{traverse:!0});else if(o===ye.keep){const l=r.pattern.alternatives[0].elements[0],c=Kt(r.pattern,d=>d.type===g.Group)&&l.alternatives.length===1?l:r.pattern;if(t.parent!==c||c.alternatives.length>1)throw new Error(w`Uses "\K" in a way that's unsupported`);s(b(J(_e({behind:!0}),a()),t))}else throw new Error(`Unexpected directive kind "${o}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw new Error('Unsupported flag "P"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii"].forEach(r=>delete e[r]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:t,disable:r}=e.flags;t!=null&&t.extended&&delete t.extended,r!=null&&r.extended&&delete r.extended,t!=null&&t.dotAll&&(r!=null&&r.dotAll)&&delete t.dotAll,t!=null&&t.ignoreCase&&(r!=null&&r.ignoreCase)&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},t){const{kind:r}=e;r===ae.lookbehind&&(t.passedLookbehind=!0)},Pattern:{enter({node:e},{supportedGNodes:t}){const r=[];let n=!1,s=!1;for(const a of e.alternatives)if(a.elements.length===1&&a.elements[0].kind===v.search_start)a.elements.pop();else{const i=qt(a.elements);i?(n=!0,Array.isArray(i)?r.push(...i):r.push(i)):s=!0}n&&!s&&r.forEach(a=>t.add(a))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if(t==="strict"&&r&&n)throw new Error(w`Uses "\G" in a way that requires non-strict accuracy`)}},Quantifier({node:e}){if(e.element.type===g.Quantifier){const t=b(J(z(),[e.element]),e);e.element=t}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!We(r)&&(r=He(r,t),e.ref=r)}},bn={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){const{orphan:n,ref:s}=e;n||r.set(e,[...t.get(s).map(({node:a})=>a)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:r,skip:n},{groupOriginByCopy:s,groupsByName:a,multiplexCapturesToLeftByRef:i,openRefs:o,reffedNodesByReferencer:u}){const l=s.get(e);if(l&&o.has(e.number)){const c=b(bt(e.number),t);u.set(c,o.get(e.number)),r(c);return}o.set(e.number,e),i.set(e.number,[]),e.name&&Ee(i,e.name,[]);const p=i.get(e.name??e.number);for(let c=0;c<p.length;c++){const d=p[c];if(l===d.node||l&&l===d.origin||e===d.origin){p.splice(c,1);break}}if(i.get(e.number).push({node:e,origin:l}),e.name&&i.get(e.name).push({node:e,origin:l}),e.name){const c=Ee(a,e.name,new Map);let d=!1;if(l)d=!0;else for(const f of c.values())if(!f.hasDuplicateNameToRemove){d=!0;break}a.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:d})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=Ie(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Recursion({node:e,parent:t},{reffedNodesByReferencer:r}){const{ref:n}=e;let s=t;for(;(s=s.parent)&&!(s.type===g.CapturingGroup&&(s.name===n||s.number===n)););r.set(e,s)},Subroutine({node:e,parent:t,replaceWith:r},n){const{ref:s}=e,a=n.subroutineRefMap.get(s),i=s===0,o=i?bt(0):Qt(a,n.groupOriginByCopy,null);let u=o;if(!i){const l=Xt(Sn(a,c=>c.type===g.Group&&!!c.flags)),p=l?Ie(n.globalFlags,l):n.globalFlags;xn(p,n.currentFlags)||(u=J(z({flags:In(p)}),[o]))}r(b(u,t),{traverse:!i})}},vn={Backreference({node:e,parent:t,replaceWith:r},n){if(e.orphan){n.highestOrphanBackref=Math.max(n.highestOrphanBackref,e.ref);return}const a=n.reffedNodesByReferencer.get(e).filter(i=>$n(i,e));if(!a.length)r(b(J(_e({negate:!0})),t));else if(a.length>1){const i=a.map(o=>we(ee(),[Qe(o.number)]));r(b(we(z(),i),t))}else e.ref=a[0].number},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Recursion({node:e},t){e.ref!==0&&(e.ref=t.reffedNodesByReferencer.get(e).number)},Regex:{exit({node:e},t){const r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let n=0;n<r;n++){const s=Ft();e.pattern.alternatives.at(-1).elements.push(s)}}}};function zt(e){ke(e,{"*"({node:t,parent:r}){t.parent=r}})}function we(e,t){return t.forEach(r=>r.parent=e),e[it(e)]=t,e}function xn(e,t){return e.dotAll===t.dotAll&&e.ignoreCase===t.ignoreCase}function $n(e,t){let r=t;do{if(r.type===g.Pattern)return!1;if(r.type===g.Alternative)continue;if(r===e)return!1;const n=Zt(r.parent);for(const s of n){if(s===r)break;if(s===e||Jt(s,e))return!0}}while(r=r.parent);throw new Error("Unexpected path")}function Qt(e,t,r,n){const s=Array.isArray(e)?[]:{};for(const[a,i]of Object.entries(e))a==="parent"?s.parent=Array.isArray(r)?n:r:i&&typeof i=="object"?s[a]=Qt(i,t,s,r):(a==="type"&&i===g.CapturingGroup&&t.set(s,t.get(e)??e),s[a]=i);return s}function bt(e){return{type:g.Recursion,ref:e}}function Sn(e,t){const r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}function He(e,t){if(t.has(e))return t.get(e);const r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}function it(e){for(const t of["alternatives","elements"])if(e[t])return t;return null}function Xt(e){const t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return e.forEach(({flags:n})=>{t.forEach(s=>{var a,i;(a=n.enable)!=null&&a[s]&&(delete r.disable[s],r.enable[s]=!0),(i=n.disable)!=null&&i[s]&&(r.disable[s]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable?r:null}function In({dotAll:e,ignoreCase:t}){const r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),(!e||!t)&&(r.disable={},!e&&(r.disable.dotAll=!0),!t&&(r.disable.ignoreCase=!0)),r}function Zt(e){if(!e)throw new Error("Node expected");if(e.type===g.Quantifier)return[e.element];const t=it(e);return t&&e[t]}function qt(e){const t=e.find(r=>r.kind===v.search_start||Mn(r,{negate:!1})||!Ln(r));if(!t)return null;if(t.kind===v.search_start)return t;if(t.type===g.LookaroundAssertion)return t.alternatives[0].elements[0];if(t.type===g.CapturingGroup||t.type===g.Group){const r=[];for(const n of t.alternatives){const s=qt(n.elements);if(!s)return null;Array.isArray(s)?r.push(...s):r.push(s)}return r}return null}function Jt(e,t){const r=Zt(e)??[];for(const n of r)if(n===t||Jt(n,t))return!0;return!1}function Kt({alternatives:e},t){return e.length===1&&e[0].elements.length===1&&(!t||t(e[0].elements[0]))}function Ln({type:e}){return e===g.Assertion||e===g.Directive||e===g.LookaroundAssertion}function Pn(e){const t=[g.Character,g.CharacterClass,g.CharacterSet];return t.includes(e.type)||e.type===g.Quantifier&&e.min&&t.includes(e.element.type)}function Mn(e,t){const r={negate:null,...t};return e.type===g.LookaroundAssertion&&(r.negate===null||e.negate===r.negate)&&Kt(e,n=>n.kind===v.search_start)}function We(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function Q(e,t){const r=Tt(e,{...t,unicodePropertyMap:st});zt(r);const n=r.pattern.alternatives;return n.length>1||n[0].elements.length>1?we(z(),n):n[0].elements[0]}function J(e,t){const r=it(e);return e[r][0].parent=e,t&&we(e[r][0],t),e}function je(e,t){return e.negate=t,e}function b(e,t){return e.parent=t,e}function On(e,t){const r=Ht(t),n=qe(r.target,"ES2024"),s=qe(r.target,"ES2025"),a=r.rules.recursionLimit;if(!Number.isInteger(a)||a<2||a>20)throw new Error("Invalid recursionLimit; use 2-20");let i=null,o=null;if(!s){const f=[e.flags.ignoreCase];ke(e,Un,{getCurrentModI:()=>f.at(-1),popModI(){f.pop()},pushModI(h){f.push(h)},setHasCasedChar(){f.at(-1)?i=!0:o=!0}})}const u={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||i)&&!o)};let l=null;const p={accuracy:r.accuracy,appliedGlobalFlags:u,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:l,originMap:e._originMap,recursionLimit:a,useAppliedIgnoreCase:!!(!s&&i&&o),useFlagMods:s,useFlagV:n,verbose:r.verbose};function c(f){switch(p.lastNode=l,l=f,f.type){case g.Regex:return{pattern:c(f.pattern),flags:c(f.flags),options:{...f.options}};case g.Alternative:return f.elements.map(c).join("");case g.Assertion:return Gn(f);case g.Backreference:return Dn(f,p);case g.CapturingGroup:return Bn(f,p,c);case g.Character:return Vn(f,p);case g.CharacterClass:return Hn(f,p,c);case g.CharacterClassRange:return Wn(f,p);case g.CharacterSet:return jn(f,p);case g.Flags:return zn(f,p);case g.Group:return Qn(f,p,c);case g.LookaroundAssertion:return Xn(f,p,c);case g.Pattern:return f.alternatives.map(c).join("|");case g.Quantifier:return c(f.element)+Kn(f);case g.Recursion:return Zn(f,p);default:throw new Error(`Unexpected node type "${f.type}"`)}}const d=c(e);return n||(delete d.options.force.v,d.options.disable.v=!0,d.options.unicodeSetsPlugin=null),d._captureTransfers=new Map,d._hiddenCaptures=[],p.captureMap.forEach((f,h)=>{f.hidden&&d._hiddenCaptures.push(h),f.transferTo&&Ee(d._captureTransfers,f.transferTo,[]).push(h)}),d}var Un={"*":{enter({node:e},t){if(xt(e)){const r=t.getCurrentModI();t.pushModI(e.flags?Ie({ignoreCase:r},e.flags).ignoreCase:r)}},exit({node:e},t){xt(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){at(T(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),Yt(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind===I.property&&jt.has(e.value)&&t.setHasCasedChar()}},Nn=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Tn=new Set(["-","\\","]","^","["]),Rn=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),vt=new Map([[9,w`\t`],[10,w`\n`],[11,w`\v`],[12,w`\f`],[13,w`\r`],[8232,w`\u2028`],[8233,w`\u2029`],[65279,w`\uFEFF`]]),Fn=new RegExp("^\\p{Cased}$","u");function at(e){return Fn.test(e)}function Gn({kind:e,negate:t}){if(e===v.string_end)return"$";if(e===v.string_start)return"^";if(e===v.word_boundary)return t?w`\B`:w`\b`;throw new Error(`Unexpected assertion kind "${e}"`)}function Dn({ref:e},t){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&t.accuracy==="strict"&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e}function Bn(e,t,r){const{name:n,number:s,alternatives:a}=e,i={ignoreCase:t.currentFlags.ignoreCase},o=t.originMap.get(e);return o&&(i.hidden=!0,s>o.number&&(i.transferTo=o.number)),t.captureMap.set(s,i),`(${n?`?<${n}>`:""}${a.map(r).join("|")})`}function Vn({value:e},t){const r=T(e),n=me(e,{escDigit:t.lastNode.type===g.Backreference,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&at(r)){const s=Wt(r);return t.inCharClass?s.join(""):s.length>1?`[${s.join("")}]`:s[0]}return r}function Hn(e,t,r){const{kind:n,negate:s,parent:a}=e;let{elements:i}=e;if(n===K.intersection&&!t.useFlagV)throw new Error("Use of class intersection requires min target ES2024");Ce.literalHyphenIncorrectlyCreatesRange&&t.useFlagV&&i.some($t)&&(i=i.filter(l=>!$t(l)),i.push(tt(45)));const o=()=>`[${s?"^":""}${i.map(r).join(n===K.intersection?"&&":"")}]`;if(!t.inCharClass){if(!t.useFlagV&&!s){const p=i.filter(c=>c.type===g.CharacterClass&&c.kind===K.union&&c.negate);if(p.length){const c=z(),d=c.alternatives[0];return c.parent=a,d.parent=c,i=i.filter(f=>!p.includes(f)),e.elements=i,i.length?(e.parent=d,d.elements.push(e)):c.alternatives.pop(),p.forEach(f=>{const h=ee();h.parent=c,f.parent=h,h.elements.push(f),c.alternatives.push(h)}),r(c)}}t.inCharClass=!0;const l=o();return t.inCharClass=!1,l}const u=i[0];if(n===K.union&&!s&&u&&((!t.useFlagV||!t.verbose)&&a.kind===K.union&&!(Ce.literalHyphenIncorrectlyCreatesRange&&t.useFlagV)||!t.verbose&&a.kind===K.intersection&&i.length===1&&u.type!==g.CharacterClassRange))return i.map(r).join("");if(!t.useFlagV&&a.type===g.CharacterClass)throw new Error("Use of nested character class requires min target ES2024");return o()}function Wn(e,t){const r=e.min.value,n=e.max.value,s={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},a=me(r,s),i=me(n,s),o=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){const u=Yt(e);qn(u).forEach(p=>{o.add(Array.isArray(p)?`${me(p[0],s)}-${me(p[1],s)}`:me(p,s))})}return`${a}-${i}${[...o].join("")}`}function jn({kind:e,negate:t,value:r,key:n},s){if(e===I.dot)return s.currentFlags.dotAll?s.appliedGlobalFlags.dotAll||s.useFlagMods?".":"[^]":w`[^\n]`;if(e===I.digit)return t?w`\D`:w`\d`;if(e===I.property){if(s.useAppliedIgnoreCase&&s.currentFlags.ignoreCase&&jt.has(r))throw new Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?w`\P`:w`\p`}{${n?`${n}=`:""}${r}}`}if(e===I.word)return t?w`\W`:w`\w`;throw new Error(`Unexpected character set kind "${e}"`)}function zn(e,t){return(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")}function Qn({atomic:e,flags:t,parent:r,alternatives:n},s,a){const i=s.currentFlags;t&&(s.currentFlags=Ie(i,t));const o=n.map(a).join("|"),u=!s.verbose&&n.length===1&&r.type!==g.Quantifier&&!e&&(!s.useFlagMods||!t)?o:`(?${Jn(e,t,s.useFlagMods)}${o})`;return s.currentFlags=i,u}function Xn({kind:e,negate:t,alternatives:r},n,s){return`(?${`${e===ae.lookahead?"":"<"}${t?"!":"="}`}${r.map(s).join("|")})`}function Zn({ref:e},t){const r=t.recursionLimit;return e===0?`(?R=${r})`:w`\g<${e}&R=${r}>`}function Yt(e,t){const r=!!(t!=null&&t.firstOnly),n=e.min.value,s=e.max.value,a=[];if(n<65&&(s===65535||s>=131071)||n===65536&&s>=131071)return a;for(let i=n;i<=s;i++){const o=T(i);if(!at(o))continue;const u=Wt(o).filter(l=>{const p=l.codePointAt(0);return p<n||p>s});if(u.length&&(a.push(...u),r))break}return a}function me(e,{escDigit:t,inCharClass:r,useFlagV:n}){if(vt.has(e))return vt.get(e);if(e<32||e>126&&e<160||e>262143||t&&Yn(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;const s=r?n?Rn:Tn:Nn,a=T(e);return(s.has(a)?"\\":"")+a}function qn(e){const t=e.map(s=>s.codePointAt(0)).sort((s,a)=>s-a),r=[];let n=null;for(let s=0;s<t.length;s++)t[s+1]===t[s]+1?n??(n=t[s]):n===null?r.push(t[s]):(r.push([n,t[s]]),n=null);return r}function Jn(e,t,r){if(e)return">";let n="";if(t&&r){const{enable:s,disable:a}=t;n=(s!=null&&s.ignoreCase?"i":"")+(s!=null&&s.dotAll?"s":"")+(a?"-":"")+(a!=null&&a.ignoreCase?"i":"")+(a!=null&&a.dotAll?"s":"")}return`${n}:`}function Kn({min:e,max:t,kind:r}){let n;return!e&&t===1?n="?":!e&&t===1/0?n="*":e===1&&t===1/0?n="+":e===t?n=`{${e}}`:n=`{${e},${t===1/0?"":t}}`,n+{greedy:"",lazy:"?",possessive:"+"}[r]}function xt({type:e}){return e===g.Group||e===g.CapturingGroup||e===g.LookaroundAssertion}function Yn(e){return e>47&&e<58}function $t({type:e,value:t}){return e===g.Character&&t===45}var se,Y,fe,ie,pe,Ae,Je,oe,es=(oe=class extends RegExp{constructor(r,n,s){var t=(...ys)=>(super(...ys),ce(this,Ae),ce(this,se,new Map),ce(this,Y,null),ce(this,fe),ce(this,ie,null),ce(this,pe,null),Ne(this,"rawOptions",{}),this);const a=!!(s!=null&&s.lazyCompile);if(r instanceof RegExp){if(s)throw new Error("Cannot provide options when copying a regexp");const i=r;t(i,n),j(this,fe,i.source),i instanceof oe&&(j(this,se,D(i,se)),j(this,ie,D(i,ie)),j(this,pe,D(i,pe)),this.rawOptions=i.rawOptions)}else{const i={hiddenCaptures:[],strategy:null,transfers:[],...s};t(a?"":r,n),j(this,fe,r),j(this,se,rs(i.hiddenCaptures,i.transfers)),j(this,pe,i.strategy),this.rawOptions=s??{}}a||j(this,Y,this)}get source(){return D(this,fe)||"(?:)"}exec(r){if(!D(this,Y)){const{lazyCompile:a,...i}=this.rawOptions;j(this,Y,new oe(D(this,fe),this.flags,i))}const n=this.global||this.sticky,s=this.lastIndex;if(D(this,pe)==="clip_search"&&n&&s){this.lastIndex=0;const a=Re(this,Ae,Je).call(this,r.slice(s));return a&&(ts(a,s,r,this.hasIndices),this.lastIndex+=s),a}return Re(this,Ae,Je).call(this,r)}},se=new WeakMap,Y=new WeakMap,fe=new WeakMap,ie=new WeakMap,pe=new WeakMap,Ae=new WeakSet,Je=function(r){D(this,Y).lastIndex=this.lastIndex;const n=ft(oe.prototype,this,"exec").call(D(this,Y),r);if(this.lastIndex=D(this,Y).lastIndex,!n||!D(this,se).size)return n;const s=[...n];n.length=1;let a;this.hasIndices&&(a=[...n.indices],n.indices.length=1);const i=[0];for(let o=1;o<s.length;o++){const{hidden:u,transferTo:l}=D(this,se).get(o)??{};if(u?i.push(null):(i.push(n.length),n.push(s[o]),this.hasIndices&&n.indices.push(a[o])),l&&s[o]!==void 0){const p=hn(i[l]);if(n[p]=s[o],this.hasIndices&&(n.indices[p]=a[o]),n.groups){D(this,ie)||j(this,ie,ns(this.source));const c=D(this,ie).get(l);c&&(n.groups[c]=s[o],this.hasIndices&&(n.indices.groups[c]=a[o]))}}}return n},oe);function ts(e,t,r,n){if(e.index+=t,e.input=r,n){const s=e.indices;for(let i=0;i<s.length;i++){const o=s[i];o&&(s[i]=[o[0]+t,o[1]+t])}const a=s.groups;a&&Object.keys(a).forEach(i=>{const o=a[i];o&&(a[i]=[o[0]+t,o[1]+t])})}}function rs(e,t){const r=new Map;for(const n of e)r.set(n,{hidden:!0});for(const[n,s]of t)for(const a of s)Ee(r,a,{}).transferTo=n;return r}function ns(e){const t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,r=new Map;let n=0,s=0,a;for(;a=t.exec(e);){const{0:i,groups:{capture:o,name:u}}=a;i==="["?n++:n?i==="]"&&n--:o&&(s++,u&&r.set(s,u))}return r}function ss(e,t){const r=is(e,t);return r.options?new es(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}function is(e,t){const r=Ht(t),n=Tt(e,{flags:r.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline},skipBackrefValidation:r.rules.allowOrphanBackrefs,unicodePropertyMap:st}),s=En(n,{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,bestEffortTarget:r.target}),a=On(s,r),i=fn(a.pattern,{captureTransfers:a._captureTransfers,hiddenCaptures:a._hiddenCaptures,mode:"external"}),o=cn(i.pattern),u=un(o.pattern,{captureTransfers:i.captureTransfers,hiddenCaptures:i.hiddenCaptures}),l={pattern:u.pattern,flags:`${r.hasIndices?"d":""}${r.global?"g":""}${a.flags}${a.options.disable.v?"u":"v"}`};if(r.avoidSubclass){if(r.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const p=u.hiddenCaptures.sort((h,C)=>h-C),c=Array.from(u.captureTransfers),d=s._strategy,f=l.pattern.length>=r.lazyCompileLength;(p.length||c.length||d||f)&&(l.options={...p.length&&{hiddenCaptures:p},...c.length&&{transfers:c},...d&&{strategy:d},...f&&{lazyCompile:f}})}return l}const St=4294967295;class as{constructor(t,r={}){Ne(this,"regexps");this.patterns=t,this.options=r;const{forgiving:n=!1,cache:s,regexConstructor:a}=r;if(!a)throw new Error("Option `regexConstructor` is not provided");this.regexps=t.map(i=>{if(typeof i!="string")return i;const o=s==null?void 0:s.get(i);if(o){if(o instanceof RegExp)return o;if(n)return null;throw o}try{const u=a(i);return s==null||s.set(i,u),u}catch(u){if(s==null||s.set(i,u),n)return null;throw u}})}findNextMatchSync(t,r,n){const s=typeof t=="string"?t:t.content,a=[];function i(o,u,l=0){return{index:o,captureIndices:u.indices.map(p=>p==null?{start:St,end:St,length:0}:{start:p[0]+l,end:p[1]+l,length:p[1]-p[0]})}}for(let o=0;o<this.regexps.length;o++){const u=this.regexps[o];if(u)try{u.lastIndex=r;const l=u.exec(s);if(!l)continue;if(l.index===r)return i(o,l,0);a.push([o,l,0])}catch(l){if(this.options.forgiving)continue;throw l}}if(a.length){const o=Math.min(...a.map(u=>u[1].index));for(const[u,l,p]of a)if(l.index===o)return i(u,l,p)}return null}}function os(e,t){return ss(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}function us(e={}){const t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||(t.regexConstructor=r=>os(r,{target:t.target})),{createScanner(r){return new as(r,t)},createString(r){return{content:r}}}}function cs({langs:e=[],themes:t=[],bundledLangs:r={},bundledThemes:n={},getMdcConfigs:s,options:a,engine:i}={}){let o,u;async function l(){var M,O;const{createHighlighterCore:f,addClassToHast:h,isSpecialLang:C,isSpecialTheme:_}=await $(async()=>{const{createHighlighterCore:B,addClassToHast:te,isSpecialLang:re,isSpecialTheme:he}=await import("./DcqNrhQi.js");return{createHighlighterCore:B,addClassToHast:te,isSpecialLang:re,isSpecialTheme:he}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url),{transformerNotationDiff:E,transformerNotationErrorLevel:x,transformerNotationFocus:y,transformerNotationHighlight:S}=await $(async()=>{const{transformerNotationDiff:B,transformerNotationErrorLevel:te,transformerNotationFocus:re,transformerNotationHighlight:he}=await import("./By3oo1Hl.js");return{transformerNotationDiff:B,transformerNotationErrorLevel:te,transformerNotationFocus:re,transformerNotationHighlight:he}},[],import.meta.url),P=await f({langs:e,themes:t,engine:i||us()});for await(const B of await c())await((O=(M=B.shiki)==null?void 0:M.setup)==null?void 0:O.call(M,P));return{shiki:P,addClassToHast:h,isSpecialLang:C,isSpecialTheme:_,transformers:[E(),x(),y(),S()]}}async function p(){return o||(o=l()),o}async function c(){return u||(u=Promise.resolve((s==null?void 0:s())||[])),u}return async(f,h,C,_={})=>{var ot,ut,ct;const{shiki:E,addClassToHast:x,isSpecialLang:y,isSpecialTheme:S,transformers:P}=await p(),M={defaultColor:!1,meta:{__raw:_.meta}};h==="ts-type"||h==="typescript-type"?(h="typescript",M.grammarContextCode="let a:"):(h==="vue-html"||h==="vue-template")&&(h="vue",M.grammarContextCode="<template>");const O={...typeof C=="string"?{default:C}:C||{}},B=E.getLoadedThemes(),te=E.getLoadedLanguages();typeof h=="string"&&!te.includes(h)&&!y(h)&&(r[h]?await E.loadLanguage(r[h]):h="text");for(const[A,U]of Object.entries(O))typeof U=="string"&&!B.includes(U)&&!S(U)&&(n[U]?await E.loadTheme(n[U]):O[A]="none");const re=[...P];for(const A of await c()){const U=typeof((ot=A.shiki)==null?void 0:ot.transformers)=="function"?await((ut=A.shiki)==null?void 0:ut.transformers(f,h,C,_)):((ct=A.shiki)==null?void 0:ct.transformers)||[];re.push(...U)}const V=E.codeToHast(f.trimEnd(),{lang:h,...M,themes:O,transformers:[...re,{name:"mdc:highlight",line(A,U){var ue;(ue=_.highlights)!=null&&ue.includes(U)&&x(A,"highlight"),A.properties.line=U}},{name:"mdc:newline",line(A){if(f!=null&&f.includes(`
`)){if(A.children.length===0||A.children.length===1&&A.children[0].type==="element"&&A.children[0].children.length===1&&A.children[0].children[0].type==="text"&&A.children[0].children[0].value===""){A.children=[{type:"element",tagName:"span",properties:{emptyLinePlaceholder:!0},children:[{type:"text",value:`
`}]}];return}const U=A.children.at(-1);if((U==null?void 0:U.type)==="element"&&U.tagName==="span"){const ue=U.children.at(-1);(ue==null?void 0:ue.type)==="text"&&(ue.value+=`
`)}}}}]}).children[0],er=V.children[0],be=a==null?void 0:a.wrapperStyle;V.properties.style=be?typeof be=="string"?be:V.properties.style:"";const Ue=[];return Object.keys(O).forEach(A=>{const U=A!=="default"?`.${A}`:"";Ue.push(be?`${U} .shiki,`:"",`html .${A} .shiki span {`,`color: var(--shiki-${A});`,`background: var(--shiki-${A}-bg);`,`font-style: var(--shiki-${A}-font-style);`,`font-weight: var(--shiki-${A}-font-weight);`,`text-decoration: var(--shiki-${A}-text-decoration);`,"}"),Ue.push(`html${U} .shiki span {`,`color: var(--shiki-${A});`,`background: var(--shiki-${A}-bg);`,`font-style: var(--shiki-${A}-font-style);`,`font-weight: var(--shiki-${A}-font-weight);`,`text-decoration: var(--shiki-${A}-text-decoration);`,"}")}),{tree:er.children,className:Array.isArray(V.properties.class)?V.properties.class.join(" "):V.properties.class,inlineStyle:V.properties.style,style:Ue.join("")}}}const ls={javascript:()=>$(()=>import("./DPXMwXsw.js"),[],import.meta.url),js:()=>$(()=>import("./DPXMwXsw.js"),[],import.meta.url),jsx:()=>$(()=>import("./CxSg9wXS.js"),[],import.meta.url),json:()=>$(()=>import("./Dtw-SHSX.js"),[],import.meta.url),typescript:()=>$(()=>import("./-kH66qQ4.js"),[],import.meta.url),ts:()=>$(()=>import("./-kH66qQ4.js"),[],import.meta.url),tsx:()=>$(()=>import("./SejdfeG-.js"),[],import.meta.url),vue:()=>$(()=>import("./D2H2gZxK.js"),__vite__mapDeps([9,10,11,12,13,14,15]),import.meta.url),css:()=>$(()=>import("./QEWVDqof.js"),[],import.meta.url),html:()=>$(()=>import("./BJpFxwVR.js"),__vite__mapDeps([10,11,12]),import.meta.url),shellscript:()=>$(()=>import("./6KJ2Y8_d.js"),[],import.meta.url),bash:()=>$(()=>import("./6KJ2Y8_d.js"),[],import.meta.url),sh:()=>$(()=>import("./6KJ2Y8_d.js"),[],import.meta.url),shell:()=>$(()=>import("./6KJ2Y8_d.js"),[],import.meta.url),zsh:()=>$(()=>import("./6KJ2Y8_d.js"),[],import.meta.url),markdown:()=>$(()=>import("./BZBapK8B.js"),[],import.meta.url),md:()=>$(()=>import("./BZBapK8B.js"),[],import.meta.url),mdc:()=>$(()=>import("./BVtI--ZE.js"),__vite__mapDeps([16,17,18,15,10,11,12]),import.meta.url),yaml:()=>$(()=>import("./CxrqyVSH.js"),[],import.meta.url),yml:()=>$(()=>import("./CxrqyVSH.js"),[],import.meta.url)},fs={"github-light":()=>$(()=>import("./DAi9KRSo.js"),[],import.meta.url).then(e=>e.default),"github-dark":()=>$(()=>import("./DHJKELXO.js"),[],import.meta.url).then(e=>e.default)},ps={},hs=Er(()=>$(()=>import("./CG6Dc4jp.js"),[],import.meta.url)),Cs=cs({bundledLangs:ls,bundledThemes:fs,options:ps,getMdcConfigs:ir,engine:hs});export{cs as createShikiHighlighter,Cs as default};
